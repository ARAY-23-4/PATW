<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PATW - Poverty Around The World</title>
    
    <!-- Tailwind CSS for Styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        
        /* Custom Animations */
        .fade-in { animation: fadeIn 0.8s ease-in; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .gradient-text {
            background: linear-gradient(to right, #10b981, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Earth Animation Styles */
        .earth-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px auto;
            border-radius: 50%;
            background: #1e293b;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 0 0 15px rgba(59, 130, 246, 0.5);
            border: 2px solid #3b82f6;
        }

        .flag-belt {
            display: flex;
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            animation: rotateFlags 15s linear infinite;
            white-space: nowrap;
            gap: 10px;
        }

        .flag-icon {
            font-size: 2rem;
            opacity: 0.8;
        }

        @keyframes rotateFlags {
            0% { transform: translate(0, -50%); }
            100% { transform: translate(-50%, -50%); }
        }

        .earth-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1), rgba(0,0,0,0.4));
            border-radius: 50%;
            z-index: 10;
        }

        /* Mobile Bottom Nav Padding */
        @media (max-width: 768px) {
            body { padding-bottom: 80px; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800" id="home">

    <!-- Navigation (Desktop) -->
    <nav class="hidden md:block fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <div class="bg-gradient-to-br from-emerald-500 to-blue-600 text-white p-2 rounded-lg">
                        <i class="fa-solid fa-earth-americas fa-lg"></i>
                    </div>
                    <span class="font-bold text-xl tracking-tight text-slate-900">PATW</span>
                </div>

                <!-- Desktop Menu -->
                <div class="flex space-x-8">
                    <a href="#mission" class="text-slate-600 hover:text-emerald-600 font-medium transition">Our Mission</a>
                    <a href="#track" class="text-slate-600 hover:text-emerald-600 font-medium transition">Track Impact</a>
                    <a href="#donate" class="px-5 py-2 bg-emerald-600 text-white rounded-full hover:bg-emerald-700 transition shadow-lg shadow-emerald-600/20 font-semibold">Donate Now</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Top Header -->
    <nav class="md:hidden fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm top-0">
        <div class="px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="bg-gradient-to-br from-emerald-500 to-blue-600 text-white p-2 rounded-lg">
                    <i class="fa-solid fa-earth-americas"></i>
                </div>
                <span class="font-bold text-lg text-slate-900">PATW</span>
            </div>
            <div class="text-xs font-semibold bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full">
                Global Charity
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative pt-32 pb-16 lg:pt-40 lg:pb-28 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
            <span class="inline-block py-1 px-3 rounded-full bg-blue-50 text-blue-600 text-sm font-semibold mb-6 border border-blue-100 fade-in">
                Global Impact. Single Donation.
            </span>
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-6 fade-in text-slate-900">
                Poverty Around <br class="hidden md:block" />
                <span class="gradient-text">The World</span>
            </h1>
            <p class="mt-4 text-lg md:text-xl text-slate-500 max-w-2xl mx-auto mb-10 fade-in px-2">
                Don't limit your kindness to borders. Your single donation is automatically distributed to the most critical regions worldwide.
            </p>
            <div class="flex flex-col sm:flex-row justify-center gap-4 fade-in px-4">
                <a href="#donate" class="w-full sm:w-auto px-8 py-4 bg-emerald-600 text-white rounded-xl font-bold text-lg shadow-xl shadow-emerald-600/30 hover:bg-emerald-700 active:scale-95 transition transform text-center">
                    Start Donating
                </a>
                <a href="#track" class="w-full sm:w-auto px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-xl font-bold text-lg hover:bg-slate-50 hover:border-slate-300 transition flex items-center justify-center gap-2">
                    <i class="fa-solid fa-magnifying-glass"></i> Track Donation
                </a>
            </div>
        </div>

        <!-- Decorative Background Elements -->
        <div class="absolute top-0 left-0 w-full h-full overflow-hidden -z-10">
            <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-200/30 rounded-full blur-3xl"></div>
            <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-200/30 rounded-full blur-3xl"></div>
        </div>
    </section>

    <!-- How It Works & Rotating Earth -->
    <section id="mission" class="py-16 md:py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            
            <!-- Rotating Earth Animation -->
            <div class="text-center mb-8">
                <div class="earth-container" aria-hidden="true">
                    <div class="earth-overlay"></div>
                    <div class="flag-belt">
                        <!-- Flags for animation -->
                        <span class="flag-icon">ðŸ‡ºðŸ‡¸</span><span class="flag-icon">ðŸ‡®ðŸ‡³</span><span class="flag-icon">ðŸ‡¬ðŸ‡§</span><span class="flag-icon">ðŸ‡¨ðŸ‡¦</span><span class="flag-icon">ðŸ‡¦ðŸ‡º</span><span class="flag-icon">ðŸ‡¯ðŸ‡µ</span><span class="flag-icon">ðŸ‡§ðŸ‡·</span><span class="flag-icon">ðŸ‡¿ðŸ‡¦</span><span class="flag-icon">ðŸ‡³ðŸ‡¬</span><span class="flag-icon">ðŸ‡«ðŸ‡·</span><span class="flag-icon">ðŸ‡©ðŸ‡ª</span><span class="flag-icon">ðŸ‡®ðŸ‡¹</span><span class="flag-icon">ðŸ‡ªðŸ‡¸</span><span class="flag-icon">ðŸ‡¨ðŸ‡³</span><span class="flag-icon">ðŸ‡·ðŸ‡º</span><span class="flag-icon">ðŸ‡²ðŸ‡½</span><span class="flag-icon">ðŸ‡°ðŸ‡·</span>
                        <!-- Repeat for seamless loop -->
                        <span class="flag-icon">ðŸ‡ºðŸ‡¸</span><span class="flag-icon">ðŸ‡®ðŸ‡³</span><span class="flag-icon">ðŸ‡¬ðŸ‡§</span><span class="flag-icon">ðŸ‡¨ðŸ‡¦</span><span class="flag-icon">ðŸ‡¦ðŸ‡º</span><span class="flag-icon">ðŸ‡¯ðŸ‡µ</span><span class="flag-icon">ðŸ‡§ðŸ‡·</span><span class="flag-icon">ðŸ‡¿ðŸ‡¦</span><span class="flag-icon">ðŸ‡³ðŸ‡¬</span><span class="flag-icon">ðŸ‡«ðŸ‡·</span><span class="flag-icon">ðŸ‡©ðŸ‡ª</span><span class="flag-icon">ðŸ‡®ðŸ‡¹</span><span class="flag-icon">ðŸ‡ªðŸ‡¸</span><span class="flag-icon">ðŸ‡¨ðŸ‡³</span><span class="flag-icon">ðŸ‡·ðŸ‡º</span><span class="flag-icon">ðŸ‡²ðŸ‡½</span><span class="flag-icon">ðŸ‡°ðŸ‡·</span>
                    </div>
                </div>
                <h2 class="text-3xl font-bold text-slate-900">One Donation, Multiple Nations</h2>
                <p class="text-slate-500 mt-2">Our algorithm ensures your fund reaches where it's needed most.</p>
            </div>

            <div class="grid md:grid-cols-3 gap-6 md:gap-8">
                <!-- Step 1 -->
                <div class="p-6 md:p-8 rounded-2xl bg-slate-50 border border-slate-100 hover:shadow-lg transition">
                    <div class="w-14 h-14 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center text-2xl mb-6">
                        <i class="fa-solid fa-hand-holding-dollar"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">You Donate</h3>
                    <p class="text-slate-500">Choose an amount in any currency. Your contribution enters our secure global pool.</p>
                </div>
                <!-- Step 2 -->
                <div class="p-6 md:p-8 rounded-2xl bg-slate-50 border border-slate-100 hover:shadow-lg transition">
                    <div class="w-14 h-14 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center text-2xl mb-6">
                        <i class="fa-solid fa-network-wired"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">We Distribute</h3>
                    <p class="text-slate-500">We split your donation across 3-5 critical zones based on real-time urgency.</p>
                </div>
                <!-- Step 3 -->
                <div class="p-6 md:p-8 rounded-2xl bg-slate-50 border border-slate-100 hover:shadow-lg transition">
                    <div class="w-14 h-14 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center text-2xl mb-6">
                        <i class="fa-solid fa-chart-line"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">You Track</h3>
                    <p class="text-slate-500">Get a unique Tracking ID. See exactly which countries received your aid and the impact created.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Donation Section -->
    <section id="donate" class="py-16 md:py-20 bg-slate-900 text-white relative">
        <div class="max-w-4xl mx-auto px-4 relative z-10">
            <div class="glass-card bg-slate-800/50 p-6 md:p-12 rounded-3xl border border-slate-700 shadow-2xl">
                <div class="text-center mb-8">
                    <span class="text-emerald-400 font-semibold tracking-wide uppercase text-sm">Make a Difference</span>
                    <h2 class="text-3xl md:text-4xl font-bold mt-2">Donate to the World</h2>
                </div>

                <div class="space-y-6 md:space-y-8">
                    <!-- Currency & Amount Selection -->
                    <div>
                        <div class="flex justify-between items-end mb-3">
                            <label class="block text-slate-300 text-sm font-medium">Select Amount</label>
                            
                            <!-- Currency Selector -->
                            <select id="currencySelector" onchange="updateCurrencySymbol()" class="bg-slate-700 border border-slate-600 text-white text-sm rounded-lg focus:ring-emerald-500 focus:border-emerald-500 block p-1.5">
                                <option value="USD" selected>USD ($)</option>
                                <option value="INR">INR (â‚¹)</option>
                                <option value="EUR">EUR (â‚¬)</option>
                                <option value="GBP">GBP (Â£)</option>
                                <option value="AUD">AUD (A$)</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-4 gap-2 md:gap-4 mb-4">
                            <button onclick="selectAmount(10)" class="amount-btn py-3 rounded-xl border border-slate-600 hover:bg-emerald-600 hover:border-emerald-500 transition font-semibold text-sm md:text-lg focus:ring-2 focus:ring-emerald-400">10</button>
                            <button onclick="selectAmount(50)" class="amount-btn py-3 rounded-xl border border-slate-600 hover:bg-emerald-600 hover:border-emerald-500 transition font-semibold text-sm md:text-lg focus:ring-2 focus:ring-emerald-400">50</button>
                            <button onclick="selectAmount(100)" class="amount-btn py-3 rounded-xl border border-slate-600 hover:bg-emerald-600 hover:border-emerald-500 transition font-semibold text-sm md:text-lg focus:ring-2 focus:ring-emerald-400">100</button>
                            <button onclick="selectAmount(500)" class="amount-btn py-3 rounded-xl border border-slate-600 hover:bg-emerald-600 hover:border-emerald-500 transition font-semibold text-sm md:text-lg focus:ring-2 focus:ring-emerald-400">500</button>
                        </div>
                        <div class="relative">
                            <span id="customCurrencySymbol" class="absolute left-4 top-3.5 text-slate-400">$</span>
                            <input type="number" id="customAmount" placeholder="Or enter custom amount" class="w-full bg-slate-900/50 border border-slate-600 rounded-xl py-3 pl-10 pr-4 text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition">
                        </div>
                    </div>

                    <!-- Donor Details -->
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-slate-300 text-sm font-medium mb-2">Full Name</label>
                            <input type="text" id="donorName" class="w-full bg-slate-900/50 border border-slate-600 rounded-xl py-3 px-4 focus:outline-none focus:border-emerald-500 transition" placeholder="John Doe">
                        </div>
                        <div>
                            <label class="block text-slate-300 text-sm font-medium mb-2">Email Address</label>
                            <input type="email" id="donorEmail" class="w-full bg-slate-900/50 border border-slate-600 rounded-xl py-3 px-4 focus:outline-none focus:border-emerald-500 transition" placeholder="john@example.com">
                        </div>
                    </div>

                    <!-- Payment Button -->
                    <button onclick="processDonation()" class="w-full bg-gradient-to-r from-emerald-500 to-emerald-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-emerald-900/50 hover:scale-[1.02] transition transform text-lg flex items-center justify-center gap-2">
                        <span>Complete Donation</span>
                        <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p class="text-center text-slate-400 text-xs md:text-sm mt-4"><i class="fa-solid fa-lock"></i> Secure 256-bit SSL Encrypted payment.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Tracking Section -->
    <section id="track" class="py-16 md:py-24 bg-slate-50">
        <div class="max-w-3xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold text-slate-900 mb-4">Track Your Impact</h2>
            <p class="text-slate-500 mb-8">Enter the Transaction ID you received to see exactly how your donation was distributed.</p>
            
            <div class="flex flex-col md:flex-row gap-3 max-w-lg mx-auto mb-12">
                <input type="text" id="trackingInput" placeholder="Enter Tracking ID (e.g., PATW-1234)" class="flex-1 border border-gray-300 rounded-lg px-5 py-3 focus:outline-none focus:border-blue-500 shadow-sm w-full">
                <button onclick="trackDonation()" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition shadow-md w-full md:w-auto">
                    Track
                </button>
            </div>

            <!-- Tracking Result Container (Hidden by default) -->
            <div id="trackingResult" class="hidden text-left bg-white p-6 md:p-8 rounded-2xl shadow-xl border border-gray-100 animate-fade-in">
                <div class="flex justify-between items-center mb-6 border-b border-gray-100 pb-4">
                    <div>
                        <p class="text-sm text-gray-500">Transaction ID</p>
                        <h3 id="resultId" class="text-xl font-bold text-slate-800">PATW-XXXX</h3>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-500">Total Donated</p>
                        <h3 id="resultAmount" class="text-xl font-bold text-emerald-600">$0.00</h3>
                    </div>
                </div>

                <h4 class="font-semibold text-slate-700 mb-4">Distribution Breakdown:</h4>
                <div id="distributionList" class="space-y-4">
                    <!-- Dynamic Content will be injected here via JS -->
                </div>

                <div class="mt-8 bg-blue-50 p-4 rounded-lg flex items-start gap-3">
                    <i class="fa-solid fa-circle-check text-blue-600 mt-1"></i>
                    <div>
                        <p class="font-semibold text-blue-800 text-sm">Verified Impact</p>
                        <p class="text-blue-600 text-xs mt-1">PATW guarantees that 100% of these allocated funds have reached local partners in these regions.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-12 border-t border-slate-800 mb-16 md:mb-0">
        <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-4 gap-8 text-center md:text-left">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center justify-center md:justify-start gap-2 mb-4 text-white">
                    <i class="fa-solid fa-earth-americas fa-lg text-emerald-500"></i>
                    <span class="font-bold text-xl">PATW</span>
                </div>
                <p class="text-slate-400 text-sm max-w-xs mx-auto md:mx-0">Connecting compassionate hearts with global needs.</p>
            </div>
            <div>
                <h4 class="text-white font-semibold mb-4">Quick Links</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="#" class="hover:text-emerald-400">About Us</a></li>
                    <li><a href="#track" class="hover:text-emerald-400">Track Donation</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-semibold mb-4">Connect</h4>
                <div class="flex justify-center md:justify-start space-x-4">
                    <a href="#" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center hover:bg-emerald-600 transition"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#" class="w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center hover:bg-emerald-600 transition"><i class="fa-brands fa-facebook"></i></a>
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-4 mt-12 pt-8 border-t border-slate-800 text-center text-xs text-slate-500">
            &copy; 2024 PATW. All rights reserved.
        </div>
    </footer>

    <!-- MOBILE APP BOTTOM NAVIGATION (Visible only on mobile) -->
    <div class="md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 flex justify-around py-3 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]">
        <a href="#home" class="flex flex-col items-center text-slate-500 hover:text-emerald-600 focus:text-emerald-600">
            <i class="fa-solid fa-house text-xl mb-1"></i>
            <span class="text-[10px] font-medium">Home</span>
        </a>
        <a href="#mission" class="flex flex-col items-center text-slate-500 hover:text-emerald-600 focus:text-emerald-600">
            <i class="fa-solid fa-layer-group text-xl mb-1"></i>
            <span class="text-[10px] font-medium">Mission</span>
        </a>
        <a href="#donate" class="flex flex-col items-center text-emerald-600">
            <div class="bg-emerald-600 text-white w-12 h-12 rounded-full flex items-center justify-center -mt-6 shadow-lg border-4 border-white">
                <i class="fa-solid fa-hand-holding-dollar text-lg"></i>
            </div>
            <span class="text-[10px] font-medium mt-1">Donate</span>
        </a>
        <a href="#track" class="flex flex-col items-center text-slate-500 hover:text-emerald-600 focus:text-emerald-600">
            <i class="fa-solid fa-magnifying-glass text-xl mb-1"></i>
            <span class="text-[10px] font-medium">Track</span>
        </a>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden opacity-0 transition-opacity duration-300 px-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full text-center transform scale-95 transition-transform duration-300">
            <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-600 text-3xl">
                <i class="fa-solid fa-check"></i>
            </div>
            <h3 class="text-2xl font-bold text-slate-900 mb-2">Thank You!</h3>
            <p class="text-slate-500 mb-6">Your donation is being processed and distributed globally.</p>
            
            <div class="bg-slate-100 p-4 rounded-lg mb-6 border border-slate-200">
                <p class="text-xs text-slate-500 uppercase font-bold tracking-wide mb-1">Your Tracking ID</p>
                <p id="modalTrackingId" class="text-xl font-mono font-bold text-slate-800 select-all cursor-pointer" onclick="copyToClipboard(this)">PATW-XXXX</p>
                <p class="text-[10px] text-emerald-600 mt-1">(Click ID to copy)</p>
            </div>

            <button onclick="closeModal()" class="w-full bg-slate-900 text-white py-3 rounded-lg font-semibold hover:bg-slate-800 transition">
                Close
            </button>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // Data: 50 Countries needing aid with specific causes
        const countriesData = [
            // Original & High Priority
            { name: "India", flag: "ðŸ‡®ðŸ‡³", cause: "Rural Healthcare", color: "bg-orange-500" },
            { name: "South Sudan", flag: "ðŸ‡¸ðŸ‡¸", cause: "Emergency Food Aid", color: "bg-red-600" },
            { name: "Yemen", flag: "ðŸ‡¾ðŸ‡ª", cause: "Medical Supplies", color: "bg-red-500" },
            { name: "Afghanistan", flag: "ðŸ‡¦ðŸ‡«", cause: "Child Education", color: "bg-green-600" },
            { name: "Syria", flag: "ðŸ‡¸ðŸ‡¾", cause: "Winter Shelter", color: "bg-stone-600" },
            { name: "Haiti", flag: "ðŸ‡­ðŸ‡¹", cause: "Earthquake Relief", color: "bg-blue-600" },
            { name: "Somalia", flag: "ðŸ‡¸ðŸ‡´", cause: "Drought Relief", color: "bg-yellow-500" },
            { name: "Congo (DRC)", flag: "ðŸ‡¨ðŸ‡©", cause: "Disease Prevention", color: "bg-blue-700" },
            { name: "Ukraine", flag: "ðŸ‡ºðŸ‡¦", cause: "Housing & Medical", color: "bg-blue-400" },
            { name: "Palestine", flag: "ðŸ‡µðŸ‡¸", cause: "Emergency Aid", color: "bg-green-600" },
            
            // Africa
            { name: "Ethiopia", flag: "ðŸ‡ªðŸ‡¹", cause: "Food Security", color: "bg-yellow-600" },
            { name: "Nigeria", flag: "ðŸ‡³ðŸ‡¬", cause: "Malaria Prevention", color: "bg-green-700" },
            { name: "Madagascar", flag: "ðŸ‡²ðŸ‡¬", cause: "Clean Water", color: "bg-red-400" },
            { name: "Sudan", flag: "ðŸ‡¸ðŸ‡©", cause: "Conflict Displacement", color: "bg-green-800" },
            { name: "Mali", flag: "ðŸ‡²ðŸ‡±", cause: "Child Nutrition", color: "bg-yellow-500" },
            { name: "Chad", flag: "ðŸ‡¹ðŸ‡©", cause: "Water Access", color: "bg-blue-500" },
            { name: "Mozambique", flag: "ðŸ‡²ðŸ‡¿", cause: "Cyclone Recovery", color: "bg-teal-500" },
            { name: "Niger", flag: "ðŸ‡³ðŸ‡ª", cause: "Agricultural Aid", color: "bg-orange-400" },
            { name: "Zimbabwe", flag: "ðŸ‡¿ðŸ‡¼", cause: "Food Distribution", color: "bg-yellow-700" },
            { name: "Burkina Faso", flag: "ðŸ‡§ðŸ‡«", cause: "Clean Water", color: "bg-red-600" },
            { name: "Kenya", flag: "ðŸ‡°ðŸ‡ª", cause: "Drought Resilience", color: "bg-green-500" },
            { name: "Uganda", flag: "ðŸ‡ºðŸ‡¬", cause: "Refugee Education", color: "bg-yellow-600" },
            { name: "Malawi", flag: "ðŸ‡²ðŸ‡¼", cause: "School Supplies", color: "bg-red-500" },
            { name: "Sierra Leone", flag: "ðŸ‡¸ðŸ‡±", cause: "Maternal Health", color: "bg-green-400" },
            { name: "Liberia", flag: "ðŸ‡±ðŸ‡·", cause: "School Infrastructure", color: "bg-red-600" },
            { name: "Central African Republic", flag: "ðŸ‡¨ðŸ‡«", cause: "Protection Services", color: "bg-yellow-500" },
            { name: "Burundi", flag: "ðŸ‡§ðŸ‡®", cause: "Food Aid", color: "bg-green-600" },
            { name: "Eritrea", flag: "ðŸ‡ªðŸ‡·", cause: "Water Access", color: "bg-blue-400" },
            { name: "Libya", flag: "ðŸ‡±ðŸ‡¾", cause: "Emergency Health", color: "bg-green-600" },
            { name: "Angola", flag: "ðŸ‡¦ðŸ‡´", cause: "Health Services", color: "bg-red-700" },
            { name: "Zambia", flag: "ðŸ‡¿ðŸ‡²", cause: "Education Access", color: "bg-green-600" },
            { name: "Tanzania", flag: "ðŸ‡¹ðŸ‡¿", cause: "Clean Water", color: "bg-blue-500" },
            { name: "Senegal", flag: "ðŸ‡¸ðŸ‡³", cause: "Food Security", color: "bg-yellow-500" },
            { name: "Rwanda", flag: "ðŸ‡·ðŸ‡¼", cause: "Community Development", color: "bg-blue-500" },

            // Asia & Middle East
            { name: "Bangladesh", flag: "ðŸ‡§ðŸ‡©", cause: "Flood Rehabilitation", color: "bg-teal-600" },
            { name: "Myanmar", flag: "ðŸ‡²ðŸ‡²", cause: "Refugee Support", color: "bg-yellow-400" },
            { name: "Pakistan", flag: "ðŸ‡µðŸ‡°", cause: "Flood Relief", color: "bg-emerald-600" },
            { name: "Lebanon", flag: "ðŸ‡±ðŸ‡§", cause: "Economic Aid", color: "bg-red-500" },
            { name: "Nepal", flag: "ðŸ‡³ðŸ‡µ", cause: "Disaster Recovery", color: "bg-blue-600" },
            { name: "Sri Lanka", flag: "ðŸ‡±ðŸ‡°", cause: "Crisis Support", color: "bg-yellow-500" },
            { name: "Cambodia", flag: "ðŸ‡°ðŸ‡­", cause: "Clean Water", color: "bg-blue-500" },
            { name: "Philippines", flag: "ðŸ‡µðŸ‡­", cause: "Typhoon Relief", color: "bg-blue-400" },
            { name: "Indonesia", flag: "ðŸ‡®ðŸ‡©", cause: "Disaster Prep", color: "bg-red-500" },
            { name: "Iraq", flag: "ðŸ‡®ðŸ‡¶", cause: "Rebuilding Homes", color: "bg-stone-500" },
            { name: "North Korea", flag: "ðŸ‡°ðŸ‡µ", cause: "Food Assistance", color: "bg-red-700" },
            { name: "Laos", flag: "ðŸ‡±ðŸ‡¦", cause: "Safety & Demining", color: "bg-blue-500" },
            { name: "Timor-Leste", flag: "ðŸ‡¹ðŸ‡±", cause: "Child Nutrition", color: "bg-red-500" },

            // Americas & Oceania
            { name: "Venezuela", flag: "ðŸ‡»ðŸ‡ª", cause: "Basic Medicine", color: "bg-red-700" },
            { name: "Papua New Guinea", flag: "ðŸ‡µðŸ‡¬", cause: "Rural Health", color: "bg-red-800" },
            { name: "Guatemala", flag: "ðŸ‡¬ðŸ‡¹", cause: "Child Nutrition", color: "bg-cyan-500" },
            { name: "Honduras", flag: "ðŸ‡­ðŸ‡³", cause: "Housing Aid", color: "bg-blue-400" },
            { name: "El Salvador", flag: "ðŸ‡¸ðŸ‡»", cause: "Youth Education", color: "bg-blue-500" },
            { name: "Brazil", flag: "ðŸ‡§ðŸ‡·", cause: "Favelas Aid", color: "bg-green-500" },
            { name: "Peru", flag: "ðŸ‡µðŸ‡ª", cause: "Cold Wave Relief", color: "bg-red-500" },
            { name: "Bolivia", flag: "ðŸ‡§ðŸ‡´", cause: "Indigenous Support", color: "bg-yellow-500" },
            { name: "Nicaragua", flag: "ðŸ‡³ðŸ‡®", cause: "Clean Water", color: "bg-blue-600" }
        ];

        let selectedDonationAmount = 0;
        let selectedCurrency = "USD";
        let selectedSymbol = "$";

        const currencySymbols = {
            "USD": "$",
            "INR": "â‚¹",
            "EUR": "â‚¬",
            "GBP": "Â£",
            "AUD": "A$"
        };

        function updateCurrencySymbol() {
            const select = document.getElementById('currencySelector');
            selectedCurrency = select.value;
            selectedSymbol = currencySymbols[selectedCurrency];
            
            document.getElementById('customCurrencySymbol').innerText = selectedSymbol;
            document.getElementById('resultAmount').innerText = selectedSymbol + "0.00";
        }

        // Function to select preset amount
        function selectAmount(amount) {
            selectedDonationAmount = amount;
            document.getElementById('customAmount').value = amount; // Auto fill input
            
            // UI Feedback
            const buttons = document.querySelectorAll('.amount-btn');
            buttons.forEach(btn => {
                if(parseInt(btn.textContent) === amount) {
                    btn.classList.add('bg-emerald-600', 'border-emerald-500', 'text-white');
                    btn.classList.remove('border-slate-600');
                } else {
                    btn.classList.remove('bg-emerald-600', 'border-emerald-500', 'text-white');
                    btn.classList.add('border-slate-600');
                }
            });
        }

        // Handle Custom Amount input
        document.getElementById('customAmount').addEventListener('input', (e) => {
            selectedDonationAmount = parseFloat(e.target.value);
            // Reset buttons if custom amount doesn't match
            document.querySelectorAll('.amount-btn').forEach(btn => {
                if(parseInt(btn.textContent) === selectedDonationAmount) {
                     btn.classList.add('bg-emerald-600', 'border-emerald-500', 'text-white');
                     btn.classList.remove('border-slate-600');
                } else {
                    btn.classList.remove('bg-emerald-600', 'border-emerald-500', 'text-white');
                    btn.classList.add('border-slate-600');
                }
            });
        });

        // Core Donation Logic
        function processDonation() {
            const name = document.getElementById('donorName').value;
            const email = document.getElementById('donorEmail').value;

            if (!selectedDonationAmount || selectedDonationAmount <= 0) {
                alert("Please select or enter a valid donation amount.");
                return;
            }
            if (!name || !email) {
                alert("Please enter your details.");
                return;
            }

            // Simulate loading
            const btn = event.currentTarget;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Processing...';
            btn.disabled = true;

            setTimeout(() => {
                // Generate Unique ID
                const trackingId = 'PATW-' + Math.floor(1000 + Math.random() * 9000);
                
                // Logic to split amount across 3 random countries
                let remaining = selectedDonationAmount;
                const distribution = [];
                
                // Shuffle countries array to get random ones
                const shuffled = [...countriesData].sort(() => 0.5 - Math.random());
                const selectedCountries = shuffled.slice(0, 3); // Pick top 3

                selectedCountries.forEach((country, index) => {
                    let share;
                    if (index === selectedCountries.length - 1) {
                        share = remaining; 
                    } else {
                        share = Math.floor(selectedDonationAmount * (0.2 + Math.random() * 0.2));
                        remaining -= share;
                    }
                    distribution.push({ ...country, amount: share });
                });

                const record = {
                    id: trackingId,
                    donor: name,
                    total: selectedDonationAmount,
                    currency: selectedSymbol,
                    date: new Date().toLocaleDateString(),
                    breakdown: distribution
                };
                
                let allDonations = JSON.parse(localStorage.getItem('patw_donations')) || [];
                allDonations.push(record);
                localStorage.setItem('patw_donations', JSON.stringify(allDonations));

                document.getElementById('modalTrackingId').innerText = trackingId;
                const modal = document.getElementById('successModal');
                modal.classList.remove('hidden');
                void modal.offsetWidth; 
                modal.classList.add('opacity-100');
                modal.querySelector('div').classList.remove('scale-95');
                modal.querySelector('div').classList.add('scale-100');

                btn.innerHTML = originalText;
                btn.disabled = false;
                
                document.getElementById('donorName').value = '';
                document.getElementById('donorEmail').value = '';
                document.getElementById('customAmount').value = '';
                selectAmount(0); // Clear selection UI

            }, 1500);
        }

        // Tracking Logic
        function trackDonation() {
            const inputId = document.getElementById('trackingInput').value.trim();
            const resultDiv = document.getElementById('trackingResult');
            const listDiv = document.getElementById('distributionList');

            if (!inputId) return;

            const allDonations = JSON.parse(localStorage.getItem('patw_donations')) || [];
            const record = allDonations.find(d => d.id === inputId);

            if (record) {
                const symbol = record.currency || "$";
                document.getElementById('resultId').innerText = record.id;
                document.getElementById('resultAmount').innerText = symbol + record.total;
                
                listDiv.innerHTML = ''; 
                
                record.breakdown.forEach(item => {
                    const percent = Math.round((item.amount / record.total) * 100);
                    
                    const html = `
                        <div class="relative pt-1">
                            <div class="flex mb-2 items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <span class="text-3xl drop-shadow-sm">${item.flag}</span>
                                    <div>
                                        <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-100 mb-1">
                                            ${item.name}
                                        </span>
                                        <div class="text-xs text-slate-500 font-medium">${item.cause}</div>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <span class="text-sm font-semibold inline-block text-slate-700">
                                        ${symbol}${item.amount}
                                    </span>
                                </div>
                            </div>
                            <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-slate-200">
                                <div style="width:${percent}%" class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${item.color} transition-all duration-1000 w-0" onload="this.style.width='${percent}%'"></div>
                            </div>
                        </div>
                    `;
                    listDiv.innerHTML += html;
                });

                resultDiv.classList.remove('hidden');
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else {
                alert("Tracking ID not found. Please try simulating a donation first!");
                resultDiv.classList.add('hidden');
            }
        }

        function closeModal() {
            const modal = document.getElementById('successModal');
            modal.classList.remove('opacity-100');
            modal.classList.add('opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function copyToClipboard(element) {
            const text = element.innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("Tracking ID Copied: " + text);
            });
        }
    </script>
</body>
</html>
